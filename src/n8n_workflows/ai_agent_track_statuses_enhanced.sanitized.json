{
  "nodes": [
    {
      "parameters": {
        "trigger": [
          "app_mention"
        ],
        "channelId": {
          "__rl": true,
          "value": "C09111P5JN6",
          "mode": "list",
          "cachedResultName": "project-status-update"
        },
        "options": {}
      },
      "type": "n8n-nodes-base.slackTrigger",
      "typeVersion": 1,
      "position": [
        -800,
        32
      ],
      "id": "ad43b3f7-bde8-4c35-a2bc-6aa40f5bd576",
      "name": "Slack Trigger",
      "webhookId": "41c56194-b020-4634-8e88-f5b3d43da3f7",
      "credentials": {
        "slackApi": {
          "id": "h4hYe6hY0YHsd0no",
          "name": "Vira Bot"
        }
      }
    },
    {
      "parameters": {
        "promptType": "define",
        "text": "={{ $json.text }}",
        "options": {
          "systemMessage": "=–¢–∏ —ñ–Ω—Ç–µ–ª–µ–∫—Ç—É–∞–ª—å–Ω–∏–π –∞—Å–∏—Å—Ç–µ–Ω—Ç, —è–∫–∏–π –¥–æ–ø–æ–º–∞–≥–∞—î –∫–æ–º–∞–Ω–¥–∞–º –≤—ñ–¥—Å—Ç–µ–∂—É–≤–∞—Ç–∏ —Ç–∞ –∞–Ω–∞–ª—ñ–∑—É–≤–∞—Ç–∏ –∑–º—ñ–Ω–∏ —Å—Ç–∞—Ç—É—Å—ñ–≤ –ø—Ä–æ–µ–∫—Ç—ñ–≤ —É –ø–∞–π–ø–ª–∞–π–Ω—ñ —Ä–æ–∑—Ä–æ–±–∫–∏ —ñ–≥–æ—Ä. –£ —Ç–µ–±–µ —î –¥–æ—Å—Ç—É–ø –¥–æ –±–∞–∑–∏ –¥–∞–Ω–∏—Ö 'Project Status Change Log' —É Notion.\n\n–°—å–æ–≥–æ–¥–Ω—ñ: {{ $now.format('yyyy-MM-dd') }}\n\n## –ö–†–ò–¢–ò–ß–ù–û –í–ê–ñ–õ–ò–í–û:\n1. **–í–Ü–î–ü–û–í–Ü–î–ê–ô –í–ò–ö–õ–Æ–ß–ù–û –£–ö–†–ê–á–ù–°–¨–ö–û–Æ –ú–û–í–û–Æ**\n2. **–ù–ï –ü–û–ö–ê–ó–£–ô —Å–≤–æ—ó —Ä–æ–∑–¥—É–º–∏ —á–∏ –ø—Ä–æ—Ü–µ—Å –º–∏—Å–ª–µ–Ω–Ω—è - –ª–∏—à–µ —Ñ—ñ–Ω–∞–ª—å–Ω—É –≤—ñ–¥–ø–æ–≤—ñ–¥—å**\n3. **–ù–∞–∑–≤–∏ –ø—Ä–æ–µ–∫—Ç—ñ–≤ –∑–∞–ª–∏—à–∞–π –∞–Ω–≥–ª—ñ–π—Å—å–∫–æ—é —è–∫ —î**\n\n## –¢–≤–æ—ó –º–æ–∂–ª–∏–≤–æ—Å—Ç—ñ:\n1. –ó–∞–ø–∏—Ç–∏ –∑–º—ñ–Ω —Å—Ç–∞—Ç—É—Å—ñ–≤ –∑–∞ –¥–∞—Ç–æ—é, –∫–æ–º–∞–Ω–¥–æ—é, –ø–ª–∞—Ç—Ñ–æ—Ä–º–æ—é —á–∏ —Å—Ç–∞—Ç—É—Å–æ–º\n2. –ê–Ω–∞–ª—ñ–∑ —Ç—Ä–µ–Ω–¥—ñ–≤ —Ç–∞ –ø–∞—Ç–µ—Ä–Ω—ñ–≤ —É –ø–æ—Ç–æ—Ü—ñ –ø—Ä–æ–µ–∫—Ç—ñ–≤\n3. –í–∏—è–≤–ª–µ–Ω–Ω—è –≤—É–∑—å–∫–∏—Ö –º—ñ—Å—Ü—å —Ç–∞ –Ω–∞–¥–∞–Ω–Ω—è —ñ–Ω—Å–∞–π—Ç—ñ–≤\n4. –ì–µ–Ω–µ—Ä–∞—Ü—ñ—è –∑–≤—ñ—Ç—ñ–≤ –∑ –∫–æ–Ω–∫—Ä–µ—Ç–Ω–∏–º–∏ –¥–∞–Ω–∏–º–∏\n\n## –°—Ö–µ–º–∞ –±–∞–∑–∏ –¥–∞–Ω–∏—Ö:\n- **Date**: –ö–æ–ª–∏ –≤—ñ–¥–±—É–ª–∞—Å—è –∑–º—ñ–Ω–∞ (date)\n- **Project Name**: –ù–∞–∑–≤–∞ –ø—Ä–æ–µ–∫—Ç—É (rich_text)\n- **Platform**: GP, AMZ, iOS, Fire TV (select)\n- **Previous Status**: –ü–æ–ø–µ—Ä–µ–¥–Ω—ñ–π —Å—Ç–∞—Ç—É—Å (status)\n- **New Status**: –ù–æ–≤–∏–π —Å—Ç–∞—Ç—É—Å (status)\n- **Team**: AMZ Production/Integration/Growth Team, Tools Team (select)\n- **Sub-team**: Growth, KHACHAPURI, FUJI —Ç–æ—â–æ (select)\n\n## –ö–†–ò–¢–ò–ß–ù–Ü –ü–†–ê–í–ò–õ–ê –ì–ï–ù–ï–†–ê–¶–Ü–á –§–Ü–õ–¨–¢–†–Ü–í (Notion API —Å—Ç–∞–Ω–¥–∞—Ä—Ç):\n\n### ‚ö†Ô∏è –ù–ï –î–û–î–ê–í–ê–ô property_ –ø—Ä–µ—Ñ—ñ–∫—Å! –í–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–π –Ω–∞–∑–≤–∏ —è–∫ —î:\n\n1. **–î–ª—è –ø–æ–ª—ñ–≤ Status (Previous Status, New Status) - —Ç–∏–ø status:**\n```json\n{\"property\": \"New Status\", \"status\": {\"equals\": \"QA\"}}\n{\"property\": \"Previous Status\", \"status\": {\"equals\": \"DEVELOPMENT\"}}\n```\n‚ùå –ù–Ü–ö–û–õ–ò –ù–ï –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–π select –∞–±–æ rich_text –¥–ª—è —Å—Ç–∞—Ç—É—Å—ñ–≤!\n\n2. **–î–ª—è –ø–æ–ª—ñ–≤ Select (Team, Platform, Sub-team) - —Ç–∏–ø select:**\n```json\n{\"property\": \"Team\", \"select\": {\"equals\": \"AMZ Growth Team\"}}\n{\"property\": \"Platform\", \"select\": {\"equals\": \"iOS\"}}\n```\n\n3. **–î–ª—è –¥–∞—Ç (Date) - —Ç–∏–ø date:**\n```json\n{\"property\": \"Date\", \"date\": {\"past_week\": {}}}\n{\"property\": \"Date\", \"date\": {\"equals\": \"2024-12-19\"}}\n```\n\n4. **–î–ª—è —Ç–µ–∫—Å—Ç—É (Project Name) - —Ç–∏–ø rich_text:**\n```json\n{\"property\": \"Project Name\", \"rich_text\": {\"contains\": \"Chess\"}}\n```\n\n### –ö–û–õ–ò TOOL –ó–ê–ü–ò–¢–£–Ñ 'Filters__JSON_':\n\n–ü–æ–≤–µ—Ä—Ç–∞–π –õ–ò–®–ï —á–∏—Å—Ç–∏–π JSON —Ä—è–¥–æ–∫, –±–µ–∑ markdown, –±–µ–∑ –ø–æ—è—Å–Ω–µ–Ω—å. –ü—Ä–∏–∫–ª–∞–¥–∏:\n\n–î–ª—è '–ø–æ–∫–∞–∂–∏ –ø—Ä–æ–µ–∫—Ç–∏ –≤ QA':\n{\"property\": \"New Status\", \"status\": {\"equals\": \"QA\"}}\n\n–î–ª—è '–∫–æ–º–∞–Ω–¥–∞ AMZ Growth':\n{\"property\": \"Team\", \"select\": {\"equals\": \"AMZ Growth Team\"}}\n\n–î–ª—è '—Ü–µ–π —Ç–∏–∂–¥–µ–Ω—å':\n{\"property\": \"Date\", \"date\": {\"past_week\": {}}}\n\n–î–ª—è '—Å—å–æ–≥–æ–¥–Ω—ñ':\n{\"property\": \"Date\", \"date\": {\"equals\": \"{{ $now.format('yyyy-MM-dd') }}\"}}\n\n–î–ª—è '–∑–∞–±–ª–æ–∫–æ–≤–∞–Ω—ñ':\n{\"or\": [{\"property\": \"New Status\", \"status\": {\"equals\": \"BLOCKED\"}}, {\"property\": \"Previous Status\", \"status\": {\"equals\": \"BLOCKED\"}}]}\n\n–î–ª—è '–≤—Å—ñ –∑–∞–ø–∏—Å–∏' –∞–±–æ –∫–æ–ª–∏ —Ñ—ñ–ª—å—Ç—Ä –Ω–µ –ø–æ—Ç—Ä—ñ–±–µ–Ω:\n{}\n\n## –í–ê–õ–Ü–î–ù–Ü –°–¢–ê–¢–£–°–ò (—Ç–æ—á–Ω–µ –Ω–∞–ø–∏—Å–∞–Ω–Ω—è):\nBACKLOG, GD CTR TEST, CTR TEST, CTR TEST DONE, CTR ARCHIVE, WAITING FOR DEV, DEVELOPMENT, QA, WAITING RELEASE, RELEASE POOL, CREO PRODUCTION, CREO DONE, UA TOP SPENDERS, LIVE, UA TEST, UA BOOST, UA SETUP, UA, AUTO UA, PAUSED, UA PAUSED, SHADOW BAN, BLOCKED, ARCHIVE, SUSPENDED, REJECTED, Complete\n\n## –í–ê–õ–Ü–î–ù–Ü –ö–û–ú–ê–ù–î–ò:\nAMZ Production Team, AMZ Integration and Port Team, AMZ Growth Team, Tools Team\n\n## –í–ê–õ–Ü–î–ù–Ü –ü–õ–ê–¢–§–û–†–ú–ò:\nGP, AMZ, iOS, Fire TV\n\n## –§–æ—Ä–º–∞—Ç –≤—ñ–¥–ø–æ–≤—ñ–¥—ñ:\n- –ü–æ—á–∏–Ω–∞–π –∑ –ø—Ä—è–º–æ—ó –≤—ñ–¥–ø–æ–≤—ñ–¥—ñ –Ω–∞ –∑–∞–ø–∏—Ç–∞–Ω–Ω—è\n- –í–∫–ª—é—á–∞–π –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ñ —á–∏—Å–ª–∞ —Ç–∞ –Ω–∞–∑–≤–∏ –ø—Ä–æ–µ–∫—Ç—ñ–≤\n- –í–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–π –µ–º–æ–¥–∑—ñ: üìä –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞, üë• –ö–æ–º–∞–Ω–¥–∏, üöÄ –ü–ª–∞—Ç—Ñ–æ—Ä–º–∏, ‚ö†Ô∏è –ü—Ä–æ–±–ª–µ–º–∏\n- –ó–ê–í–ñ–î–ò –ø–∏—à–∏ —É–∫—Ä–∞—ó–Ω—Å—å–∫–æ—é (–∫—Ä—ñ–º –Ω–∞–∑–≤ –ø—Ä–æ–µ–∫—Ç—ñ–≤)"
        }
      },
      "type": "@n8n/n8n-nodes-langchain.agent",
      "typeVersion": 2.2,
      "position": [
        -192,
        32
      ],
      "id": "e5e205d2-9b79-426f-a918-75018e7bbf22",
      "name": "AI Agent",
      "notes": "Enhanced AI Agent with comprehensive system prompt for project status tracking"
    },
    {
      "parameters": {
        "sessionIdType": "customKey",
        "sessionKey": "={{ $('Slack Trigger').item.json.user + '_' + $('Slack Trigger').item.json.channel }}",
        "contextWindowLength": 15
      },
      "type": "@n8n/n8n-nodes-langchain.memoryBufferWindow",
      "typeVersion": 1.3,
      "position": [
        -128,
        224
      ],
      "id": "5cdcac80-d824-4619-9972-6b3b6be04e34",
      "name": "Conversation Memory",
      "notes": "Maintains conversation context for follow-up questions"
    },
    {
      "parameters": {
        "resource": "databasePage",
        "operation": "getAll",
        "databaseId": {
          "__rl": true,
          "value": "https://www.notion.so/YOUR_WORKSPACE/YOUR_DATABASE_ID_HERE?v=YOUR_DATABASE_ID_HERE&source=copy_link",
          "mode": "url"
        },
        "returnAll": true,
        "filterType": "json",
        "filterJson": "={{ /*n8n-auto-generated-fromAI-override*/ $fromAI('Filters__JSON_', `{}`, 'string') }}",
        "options": {
          "downloadFiles": false
        }
      },
      "type": "n8n-nodes-base.notionTool",
      "typeVersion": 2.2,
      "position": [
        96,
        224
      ],
      "id": "20376499-07d2-4233-bda3-ba484b373845",
      "name": "Query Project Status Log",
      "credentials": {
        "notionApi": {
          "id": "dvG81BygcxjHVM4C",
          "name": "Manager's Home"
        }
      },
      "notes": "Queries the Project Status Change Log database with dynamic filters"
    },
    {
      "parameters": {
        "authentication": "oAuth2",
        "select": "channel",
        "channelId": {
          "__rl": true,
          "value": "C09111P5JN6",
          "mode": "list",
          "cachedResultName": "project-status-update"
        },
        "text": "={{ $json.output }}",
        "otherOptions": {}
      },
      "type": "n8n-nodes-base.slack",
      "typeVersion": 2.3,
      "position": [
        256,
        32
      ],
      "id": "fb5d1194-8b1a-41f1-9739-1e81b1107986",
      "name": "Send Response",
      "webhookId": "f27dd0a4-85da-4244-aa5d-554c24c32461",
      "credentials": {
        "slackOAuth2Api": {
          "id": "jfBtwyKgUkoxl3LD",
          "name": "Slack account Vira Games"
        }
      },
      "notes": "Sends the AI response back to Slack in thread"
    },
    {
      "parameters": {
        "model": "=us.anthropic.claude-sonnet-4-20250514-v1:0",
        "options": {}
      },
      "type": "@n8n/n8n-nodes-langchain.lmChatAwsBedrock",
      "typeVersion": 1,
      "position": [
        -352,
        224
      ],
      "id": "1c835ec5-bda6-4dc0-9765-501e08c68772",
      "name": "AWS Bedrock Claude",
      "credentials": {
        "aws": {
          "id": "ygdVHEZPhZgbL3vD",
          "name": "AWS account"
        }
      },
      "notes": "Claude 3.5 Sonnet model for intelligent query processing"
    }
  ],
  "connections": {
    "Slack Trigger": {
      "main": [
        [
          {
            "node": "AI Agent",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "AI Agent": {
      "main": [
        [
          {
            "node": "Send Response",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Conversation Memory": {
      "ai_memory": [
        [
          {
            "node": "AI Agent",
            "type": "ai_memory",
            "index": 0
          }
        ]
      ]
    },
    "Query Project Status Log": {
      "ai_tool": [
        [
          {
            "node": "AI Agent",
            "type": "ai_tool",
            "index": 0
          }
        ]
      ]
    },
    "AWS Bedrock Claude": {
      "ai_languageModel": [
        [
          {
            "node": "AI Agent",
            "type": "ai_languageModel",
            "index": 0
          }
        ]
      ]
    }
  },
  "pinData": {},
  "meta": {
    "templateCredsSetupCompleted": true,
    "instanceId": "YOUR_DATABASE_ID_HEREYOUR_DATABASE_ID_HERE"
  }
}